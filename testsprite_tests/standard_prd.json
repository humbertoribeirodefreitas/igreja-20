{
  "meta": {
    "project": "CMS Painel for Church Website",
    "date": "2025-11-19",
    "prepared_by": "Software Development Manager"
  },
  "product_overview": "This project is a CMS Painel for managing a church website's content including Home, Footer, Ministries, and dynamic pages through a protected admin dashboard, utilizing Supabase for persistence and React ecosystem for front-end.",
  "core_goals": [
    "Provide secure access control to the admin painel via route protection and authentication.",
    "Enable content editing for the Home page, Footer, and Ministries with real-time saving to the database.",
    "Allow management of dynamic pages including creation, update, deletion, and status control.",
    "Persist all editable content through Supabase using a key-value JSON storage model.",
    "Ensure seamless integration of admin changes with the public-facing site to reflect updates immediately."
  ],
  "key_features": [
    "Protected routes using a ProtectedRoute component enforcing authentication via localStorage key isAuthenticated.",
    "HomeEditor component for editing homepage content and saving changes through saveHomeData.",
    "FooterEditor for footer content management with saveFooterData persistence.",
    "MinistryEditor for CRUD operations on ministry content using saveMinistry.",
    "Dynamic page management allowing listing via getPages, page addition with addPage, status updates through updatePage, and deletion by deletePage.",
    "Content persistence handled by Supabase table app_content with JSON value storage accessed via DatabaseService.fetchItem and saveItem methods.",
    "Admin dashboard UI structured under /painel/* route path including layout and navigation components to manage content sections.",
    "Public-facing routes consume the content from the persistent storage and dynamically show pages based on status and type filters."
  ],
  "user_flow_summary": [
    "User logs in or is authenticated through localStorage isAuthenticated key to access the painel routes.",
    "User navigates through the dashboard menu to select content sections: Home, Footer, Ministries, or Dynamic Pages.",
    "For Home, Footer, or Ministries, user edits content in respective editors and saves changes to Supabase.",
    "For Dynamic Pages, user can view a list, add new pages, update their status (e.g., online/offline), or delete pages.",
    "System reflects all content updates immediately on the public-facing website, including new or updated dynamic pages showing based on their type and status.",
    "Routing and navigation ensure admin users remain within protected painel areas while the public sees updated content seamlessly."
  ],
  "validation_criteria": [
    "Authentication enforcement blocks unauthenticated access to /painel routes.",
    "Content editors save and retrieve data correctly from Supabase with immediate effect in the public site.",
    "Dynamic page management supports CRUD operations and status toggling accurately preserving state in the database.",
    "Frontend routing correctly protects painel routes and integrates dynamic content rendering for public pages.",
    "All UI components are responsive and consistent across admin and public interfaces.",
    "Data consistency ensured between front-end display and backend persistence layer after content edits."
  ],
  "code_summary": {
    "tech_stack": [
      "JavaScript",
      "React",
      "Vite",
      "React Router",
      "Supabase",
      "Recharts",
      "Swiper",
      "Lucide React",
      "Framer Motion",
      "ESLint"
    ],
    "features": [
      {
        "name": "App Routing",
        "description": "Client-side routing and dynamic routes including protected painel.",
        "files": [
          "src/App.jsx",
          "src/components/ProtectedRoute.jsx",
          "src/pages/DynamicPage.jsx"
        ]
      },
      {
        "name": "Painel CMS",
        "description": "Admin dashboard to edit Home, Footer, Ministries, and manage dynamic pages.",
        "files": [
          "src/painel/index.jsx",
          "src/painel/DashboardLayout.jsx",
          "src/painel/DashboardCharts.jsx",
          "src/painel/PageManager.jsx",
          "src/painel/PageEditor.jsx",
          "src/painel/HomeEditor.jsx",
          "src/painel/FooterEditor.jsx",
          "src/painel/MinistryEditor.jsx",
          "src/painel/Settings.jsx"
        ]
      },
      {
        "name": "Supabase Service",
        "description": "Persistence layer for app content using Supabase table app_content.",
        "files": [
          "src/services/supabaseClient.js",
          "src/services/DatabaseService.js",
          "src/services/initialData.js",
          "supabase_schema.sql",
          ".env"
        ]
      },
      {
        "name": "Home Page",
        "description": "Public home page consuming editable content and showing carousels and schedule.",
        "files": [
          "src/pages/Home.jsx",
          "src/components/HeroCarousel.jsx",
          "src/components/ActivitiesCarousel.jsx",
          "src/css/Home.css",
          "src/css/HeroCarousel.css",
          "src/css/ActivitiesCarousel.css"
        ]
      },
      {
        "name": "Ministry Pages",
        "description": "Individual ministry pages reading content from DatabaseService.",
        "files": [
          "src/pages/Kids.jsx",
          "src/pages/Louvor.jsx",
          "src/pages/JovensPage.jsx",
          "src/pages/Mulheres.jsx",
          "src/pages/Lares.jsx",
          "src/pages/Retiro.jsx",
          "src/pages/Social.jsx",
          "src/pages/EDB.jsx",
          "src/pages/midia.jsx",
          "src/pages/Intercess√£o.jsx",
          "src/pages/missoes.jsx"
        ]
      },
      {
        "name": "UI Components",
        "description": "Site-wide components like Header, Footer, MinistryCard, MinistryCarousel.",
        "files": [
          "src/components/Header.jsx",
          "src/components/Footer.jsx",
          "src/components/MinistryCard.jsx",
          "src/components/MinistryCarousel.jsx",
          "src/css/Header.css",
          "src/css/Footer.css",
          "src/css/MinistryCard.css",
          "src/css/MinistryCarousel.css"
        ]
      },
      {
        "name": "Styling",
        "description": "Global and page-specific styles.",
        "files": [
          "src/css/App.css",
          "src/index.css",
          "src/css/Revista.css",
          "src/css/Dashboard.css"
        ]
      }
    ]
  }
}
